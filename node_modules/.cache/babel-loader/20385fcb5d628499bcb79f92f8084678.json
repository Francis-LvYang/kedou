{"ast":null,"code":"import \"antd-mobile/lib/modal/style/css\";\nimport _Modal from \"antd-mobile/lib/modal\";\n\nvar _class,\n    _temp,\n    _jsxFileName = \"/Users/Ryan/Projects/kedou/src/components/Audio/index.jsx\";\n\nimport React from 'react';\nimport ReactAplayer from 'react-aplayer';\nimport './index.scss';\nimport ListTitle from '../ListTitle';\nimport BookDetailGuess from '../BookDetailGuess';\nimport { withRouter } from 'react-router-dom';\n\nlet App = withRouter(_class = (_temp = class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onPlay = () => {\n      this.setState({\n        play: true\n      });\n      console.log('on play');\n    };\n\n    this.onPause = () => {\n      this.ap.pause();\n      this.setState({\n        play: false\n      });\n    };\n\n    this.onInit = ap => {\n      this.ap = ap;\n    };\n\n    this.changeSrc = async (url, num) => {\n      await this.setState({\n        show: false\n      });\n      await this.setState({\n        url,\n        show: true,\n        serialShow: false\n      }, () => {\n        this.ap.toggle();\n        document.querySelector('.aplayer-author').innerHTML = `第${num}集`;\n        document.querySelector('.aplayer-icon-loop').remove();\n      });\n    };\n\n    this.state = {\n      serialNum: 1,\n      serialShow: false,\n      playerList: [],\n      player: '',\n      show: false,\n      detailShow: true,\n      play: false,\n      serial: '第1集',\n      modal2: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: this.props.novelTitle,\n      url: this.props.player.src,\n      cover: this.props.novelPoster,\n      show: true\n    }, () => {\n      document.querySelector('.aplayer-author').innerHTML = '第1集';\n      document.querySelector('.aplayer-icon-loop').remove();\n    });\n  }\n\n  componentWillUnmount() {\n    this.onPause();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.serials) {\n      return {\n        playerList: props.serials\n      };\n    }\n\n    return null;\n  } // event binding example\n\n\n  render() {\n    const _this$state = this.state,\n          playerList = _this$state.playerList,\n          name = _this$state.name,\n          url = _this$state.url,\n          cover = _this$state.cover,\n          show = _this$state.show,\n          detailShow = _this$state.detailShow,\n          play = _this$state.play,\n          modal2 = _this$state.modal2,\n          getBooKDetail = this.props.getBooKDetail,\n          changeSrc = this.changeSrc;\n    const player = {\n      theme: '#F57F17',\n      lrcType: 3,\n      audio: [{\n        name,\n        url,\n        cover,\n        theme: '#ebd0c2'\n      }]\n    };\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: detailShow ? 'playerDetail' : 'player',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, detailShow && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"minimize\",\n      src: require('../../assets/images/back_btn.png'),\n      alt: \"\",\n      onClick: () => {\n        this.props.setDetailShow();\n        this.setState({\n          detailShow: !this.state.detailShow\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, this.props.novelTitle, \"-\", this.state.serial), React.createElement(\"div\", {\n      className: \"Nothing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"record\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"recordImg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/record_nomal.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: this.props.novelPoster,\n      alt: \"\",\n      className: \"Poster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"playerBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"img\",\n      onClick: () => {\n        this.setState({\n          modal2: !this.state.modal2\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: modal2 ? require('../../assets/images/book_list_pressed.png') : require('../../assets/images/book_list_nomal.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/before_btn.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: play ? require('../../assets/images/pause_btn.png') : require('../../assets/images/play_btn.png'),\n      alt: \"\",\n      onClick: () => {\n        this.ap.toggle();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/nexy_btn.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/time_nomal.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }))))), React.createElement(ListTitle, {\n      title: this.props.novelTitle + '-' + this.state.serial,\n      right: this.props.detailInfo.play,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"itemBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/view_comment_btn.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.props.detailInfo.love))), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"collected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.detailInfo.collected ? require('../../assets/images/thumbnail_like_pressed_btn.png') : require('../../assets/images/user_favorite_btn.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/share_btn.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })))), React.createElement(ListTitle, {\n      title: '猜你喜欢',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), this.props.detailInfo.guess.map(e => React.createElement(BookDetailGuess, Object.assign({}, e, {\n      getBooKDetail: getBooKDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }))), React.createElement(_Modal, {\n      className: \"AudioModal\",\n      popup: true,\n      visible: modal2,\n      title: \"目录 (\" + playerList.length + ') 章',\n      onClose: () => {\n        this.setState({\n          modal2: !this.state.modal2\n        });\n      },\n      animationType: \"slide-up\" // afterClose={() => { alert('afterClose'); }}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, playerList.map(e => {\n      if (e.serial === this.state.serialNum) {\n        return React.createElement(\"p\", {\n          className: \"serialActive\",\n          onClick: () => {\n            this.setState({\n              serialNum: e.serial,\n              serial: `第${e.serial}集`\n            });\n            changeSrc(e.src, e.serial);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, \"\\u7B2C\", e.serial, \"\\u96C6\");\n      }\n\n      return React.createElement(\"p\", {\n        className: \"serial\",\n        onClick: () => {\n          this.setState({\n            serialNum: e.serial,\n            serial: `第${e.serial}集`\n          });\n          changeSrc(e.src, e.serial);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"\\u7B2C\", e.serial, \"\\u96C6\");\n    }))), this.state.serialShow && React.createElement(\"div\", {\n      className: \"playerSerial\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, playerList.map(e => React.createElement(\"p\", {\n      onClick: () => {\n        this.setState({\n          serial: `第${e.serial}集`\n        });\n        changeSrc(e.src, e.serial);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"\\u7B2C\", e.serial, \"\\u96C6\"))), !detailShow && React.createElement(\"p\", {\n      className: \"select\",\n      onClick: () => {\n        this.setState({\n          serialShow: !this.state.serialShow\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"\\u9009\\u96C6\"), show && React.createElement(ReactAplayer, Object.assign({}, player, {\n      onInit: this.onInit,\n      onPlay: this.onPlay,\n      onPause: this.onPause,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })));\n  }\n\n}, _temp)) || _class;\n\nexport default App;","map":{"version":3,"sources":["/Users/Ryan/Projects/kedou/src/components/Audio/index.jsx"],"names":["React","ReactAplayer","ListTitle","BookDetailGuess","withRouter","App","Component","constructor","props","onPlay","setState","play","console","log","onPause","ap","pause","onInit","changeSrc","url","num","show","serialShow","toggle","document","querySelector","innerHTML","remove","state","serialNum","playerList","player","detailShow","serial","modal2","componentDidMount","name","novelTitle","src","cover","novelPoster","componentWillUnmount","getDerivedStateFromProps","serials","render","getBooKDetail","theme","lrcType","audio","require","setDetailShow","detailInfo","love","collected","guess","map","e","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactAplayer from 'react-aplayer';\nimport './index.scss'\nimport ListTitle from '../ListTitle'\nimport BookDetailGuess from '../BookDetailGuess'\nimport { Modal } from 'antd-mobile'\nimport { withRouter } from 'react-router-dom';\n@withRouter\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tserialNum:1,\n\t\t\tserialShow: false,\n\t\t\tplayerList: [],\n\t\t\tplayer: '',\n\t\t\tshow: false,\n\t\t\tdetailShow: true,\n\t\t\tplay: false,\n\t\t\tserial: '第1集',\n\t\t\tmodal2: false\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\tname: this.props.novelTitle,\n\t\t\turl: this.props.player.src,\n\t\t\tcover: this.props.novelPoster,\n\t\t\tshow: true\n\t\t}, () => {\n\t\t\tdocument.querySelector('.aplayer-author').innerHTML = '第1集'\n\t\t\tdocument.querySelector('.aplayer-icon-loop').remove()\n\t\t})\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.onPause()\n\t}\n\t\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (props.serials) {\n\t\t\treturn {\n\t\t\t\tplayerList: props.serials\n\t\t\t}\n\t\t}\n\t\treturn null\n\t}\n\t// event binding example\n\tonPlay = () => {\n\t\tthis.setState({\n\t\t\tplay: true\n\t\t})\n\t\tconsole.log('on play');\n\t};\n\n\tonPause = () => {\n\t\tthis.ap.pause()\n\t\tthis.setState({\n\t\t\tplay: false\n\t\t})\n\t};\n\n\t// example of access aplayer instance\n\tonInit = ap => {\n\t\tthis.ap = ap;\n\t};\n\tchangeSrc = async (url, num) => {\n\t\tawait this.setState({\n\t\t\tshow: false\n\t\t})\n\t\tawait this.setState({\n\t\t\turl,\n\t\t\tshow: true,\n\t\t\tserialShow: false\n\t\t}, () => {\n\t\t\tthis.ap.toggle()\n\t\t\tdocument.querySelector('.aplayer-author').innerHTML = `第${num}集`\n\t\t\tdocument.querySelector('.aplayer-icon-loop').remove()\n\t\t})\n\t}\n\trender() {\n\t\tconst {\n\t\t\tstate: {\n\t\t\t\tplayerList,\n\t\t\t\tname,\n\t\t\t\turl,\n\t\t\t\tcover,\n\t\t\t\tshow,\n\t\t\t\tdetailShow,\n\t\t\t\tplay,\n\t\t\t\tmodal2\n\t\t\t},\n\t\t\tprops:{\n\t\t\t\tgetBooKDetail\n\t\t\t},\n\t\t\tchangeSrc\n\t\t} = this\n\t\tconst player = {\n\t\t\ttheme: '#F57F17',\n\t\t\tlrcType: 3,\n\t\t\taudio: [\n\t\t\t\t{\n\t\t\t\t\tname,\n\t\t\t\t\turl,\n\t\t\t\t\tcover,\n\t\t\t\t\ttheme: '#ebd0c2'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconsole.log(this.props);\n\n\t\treturn (\n\t\t\t<div className={detailShow ? 'playerDetail' : 'player'}>\n\t\t\t\t{\n\t\t\t\t\tdetailShow && <>\n\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t\t\t<img className='minimize' src={require('../../assets/images/back_btn.png')} alt=\"\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.props.setDetailShow()\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tdetailShow: !this.state.detailShow\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<div className=\"title\">\n\t\t\t\t\t\t\t\t\t{this.props.novelTitle}-{this.state.serial}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Nothing\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='record'>\n\t\t\t\t\t\t\t\t<div className=\"recordImg\">\n\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/record_nomal.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t<img src={this.props.novelPoster} alt=\"\" className=\"Poster\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"playerBtn\">\n\t\t\t\t\t\t\t\t\t<div className=\"img\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tmodal2: !this.state.modal2\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<img src={modal2?require('../../assets/images/book_list_pressed.png'):require('../../assets/images/book_list_nomal.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/before_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t\t\t\t\t<img src={play ? require('../../assets/images/pause_btn.png') : require('../../assets/images/play_btn.png')} alt=\"\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tthis.ap.toggle()\n\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/nexy_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/time_nomal.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ListTitle title={this.props.novelTitle + '-' + this.state.serial} right={this.props.detailInfo.play} />\n\t\t\t\t\t\t<div className=\"itemBtn\">\n\t\t\t\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\t\t\t{/* <div className=\"like\">\n\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/awesome_nomal_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t<p>{this.props.detailInfo.love}</p>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t<div className=\"comment\">\n\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/view_comment_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t<p>{this.props.detailInfo.love}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"right\">\n\t\t\t\t\t\t\t\t<div className=\"collected\">\n\t\t\t\t\t\t\t\t\t<img src={this.props.detailInfo.collected ? require('../../assets/images/thumbnail_like_pressed_btn.png') : require('../../assets/images/user_favorite_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"share\">\n\t\t\t\t\t\t\t\t\t<img src={require('../../assets/images/share_btn.png')} alt=\"\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ListTitle title={'猜你喜欢'} />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.detailInfo.guess.map(e => <BookDetailGuess {...e} getBooKDetail={getBooKDetail} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\tclassName='AudioModal'\n\t\t\t\t\t\t\tpopup\n\t\t\t\t\t\t\tvisible={modal2}\n\t\t\t\t\t\t\ttitle={\"目录 (\" + playerList.length + ') 章'}\n\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tmodal2: !this.state.modal2\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tanimationType=\"slide-up\"\n\t\t\t\t\t\t// afterClose={() => { alert('afterClose'); }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{playerList.map(e =>{\n\t\t\t\t\t\t\t\tif(e.serial===this.state.serialNum){\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<p className='serialActive' onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tserialNum:e.serial,\n\t\t\t\t\t\t\t\t\t\t\t\tserial: `第${e.serial}集`\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tchangeSrc(e.src, e.serial)\n\t\t\t\t\t\t\t\t\t\t}}>第{e.serial}集</p>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn  (\n\t\t\t\t\t\t\t\t\t<p className='serial' onClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tserialNum:e.serial,\n\t\t\t\t\t\t\t\t\t\t\tserial: `第${e.serial}集`\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\tchangeSrc(e.src, e.serial)\n\t\t\t\t\t\t\t\t\t}}>第{e.serial}集</p>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.state.serialShow && <div className='playerSerial'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplayerList.map(e => (\n\t\t\t\t\t\t\t\t<p onClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tserial: `第${e.serial}集`\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tchangeSrc(e.src, e.serial)\n\t\t\t\t\t\t\t\t}}>第{e.serial}集</p>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t!detailShow && <p className='select' onClick={() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tserialShow: !this.state.serialShow\n\t\t\t\t\t\t})\n\t\t\t\t\t}} >选集</p>\n\t\t\t\t}\n\t\t\t\t{show && <ReactAplayer\n\t\t\t\t\t{...player}\n\t\t\t\t\tonInit={this.onInit}\n\t\t\t\t\tonPlay={this.onPlay}\n\t\t\t\t\tonPause={this.onPause}\n\t\t\t\t/>}\n\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default App"]},"metadata":{},"sourceType":"module"}