{"ast":null,"code":"var _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/gaomengzhou/Projects/kedou/src/pages/Book/index.jsx\";\n\nimport Header from '@/components/header';\nimport { category } from '@/store/action/book';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Audio from '../../components/Audio';\nimport Login from '../../components/login';\nimport Tabs from '../../components/tabs';\nimport { detail } from '../../services/book';\nimport './index.less';\n\nconst stateToProps = state => {\n  return {\n    tabList: state.book.tabList\n  };\n};\n\nconst mapDispatchToProps = {\n  category\n};\nlet Book = (_dec = connect(stateToProps, mapDispatchToProps), _dec(_class = (_temp = class Book extends Component {\n  constructor(props) {\n    super(props);\n\n    this.testRightCallBack = () => {\n      if (this.state.loginShow && sessionStorage.getItem('user_id')) {\n        this.setState({\n          loginShow: !this.state.loginShow\n        });\n      } else if (!this.state.loginShow && sessionStorage.getItem('user_id')) {\n        this.setState({\n          my: !this.state.my\n        });\n      } else {\n        this.setState({\n          loginShow: !this.state.loginShow,\n          novelItem: null\n        });\n      }\n    };\n\n    this.Popo = () => {\n      const arr = [{\n        src: `user_favorite_btn.png`,\n        title: '我的收藏',\n        goto: '/collect'\n      }, {\n        src: `user_feedback_btn.png`,\n        title: '意见反馈',\n        goto: '/userfeedback'\n      }, {\n        src: 'user_close_btn.png',\n        title: '退出登录',\n        goto: '/'\n      }];\n      return arr.map(e => {\n        return React.createElement(\"div\", {\n          key: e.goto,\n          onClick: () => {\n            if (e.title === '退出登录') {\n              sessionStorage.removeItem('user_id');\n              this.setState({\n                my: false\n              });\n              return false;\n            }\n\n            this.props.history.push(e.goto);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            width: '70%',\n            margin: 'auto',\n            padding: '.1rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: require(`@/assets/images/${e.src}`),\n          alt: \"\",\n          style: {\n            width: '100%',\n            height: '100%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        })), React.createElement(\"p\", {\n          style: {\n            textAlign: 'center',\n            padding: '0 0 .1rem 0'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, e.title));\n      });\n    };\n\n    this.getBooKDetail = async bookId => {\n      if (!sessionStorage.getItem('user_id')) {\n        this.testRightCallBack();\n        return false;\n      }\n\n      await this.setState({\n        novelItem: null\n      });\n      await detail({\n        user_id: sessionStorage.getItem('user_id'),\n        novel_id: bookId\n      }).then(res => {\n        console.log(res);\n        const serials = res.video;\n        const novelPoster = res.poster;\n        const novelTitle = res.title;\n        const novelItem = {\n          serials,\n          novelPoster,\n          novelTitle,\n          player: serials[0]\n        };\n        this.setState({\n          novelItem\n        });\n      });\n    };\n\n    this.state = {\n      showHome: true,\n      loginShow: false,\n      my: false,\n      novelItem: '' // collectSucceed: []\n\n    };\n  }\n\n  componentDidMount() {\n    this.props.category({\n      page: 1\n    });\n  }\n\n  componentWillUnmount() {}\n\n  // setCollect = (novel_id) => {\n  // \tif (!sessionStorage.getItem('user_id')) {\n  // \t\tthis.testRightCallBack()\n  // \t\treturn false\n  // \t}\n  // \tconst collectSucceed=this.state.collectSucceed\n  // \tcollect({\n  // \t\tuser_id: sessionStorage.getItem('user_id'),\n  // \t\tnovel_id: novel_id\n  // \t}).then(res => {\n  // \t\tif (res.code === 0) {\n  // \t\t\tToast.info(res.suc)\n  // \t\t\tif(res.suc==='取消成功'){\n  // \t\t\t\tcollectSucceed.splice(collectSucceed.findIndex(item => item === novel_id), 1)\n  // \t\t\t\tthis.setState({\n  // \t\t\t\t\tcollectSucceed\n  // \t\t\t\t})\n  // \t\t\t\treturn false\n  // \t\t\t}\n  // \t\t\tcollectSucceed.push(novel_id)\n  // \t\t\tthis.setState({\n  // \t\t\t\tcollectSucceed: collectSucceed\n  // \t\t\t})\n  // \t\t} else {\n  // \t\t\tToast.info(res.err)\n  // \t\t}\n  // \t})\n  // \tconsole.log(123);\n  // }\n  render() {\n    const _this$state = this.state,\n          loginShow = _this$state.loginShow,\n          my = _this$state.my,\n          novelItem = _this$state.novelItem,\n          tabList = this.props.tabList,\n          getBooKDetail = this.getBooKDetail,\n          testRightCallBack = this.testRightCallBack;\n    const bookHeader = {\n      // leftCallBack: this.testCallBack,\n      rightCallBack: testRightCallBack,\n      type: 'book'\n    };\n    const tabsParameter = {\n      tabList: tabList,\n      getBooKDetail,\n      testRightCallBack // setCollect,\n      // collectSucceed\n\n    };\n    return React.createElement(\"div\", {\n      id: \"home_book\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Header, Object.assign({}, bookHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })), React.createElement(Tabs, Object.assign({}, tabsParameter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    })), loginShow && React.createElement(Login, {\n      rightCallBack: this.testRightCallBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), my && React.createElement(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '1rem',\n        left: '.1rem',\n        zIndex: '1000',\n        padding: '.1rem',\n        backgroundColor: '#fff',\n        borderRadius: '.1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, this.Popo(), React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '-.2rem',\n        left: '20%',\n        borderTop: ' .1rem solid transparent',\n        borderBottom: '.1rem solid #fff',\n        borderLeft: '.1rem solid transparent',\n        borderRight: '.1rem solid transparent'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })), novelItem && React.createElement(React.Fragment, null, React.createElement(Audio, Object.assign({}, novelItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }))));\n  }\n\n}, _temp)) || _class);\nexport default Book;","map":{"version":3,"sources":["/Users/gaomengzhou/Projects/kedou/src/pages/Book/index.jsx"],"names":["Header","category","React","Component","connect","Audio","Login","Tabs","detail","stateToProps","state","tabList","book","mapDispatchToProps","Book","constructor","props","testRightCallBack","loginShow","sessionStorage","getItem","setState","my","novelItem","Popo","arr","src","title","goto","map","e","removeItem","history","push","width","margin","padding","require","height","textAlign","getBooKDetail","bookId","user_id","novel_id","then","res","console","log","serials","video","novelPoster","poster","novelTitle","player","showHome","componentDidMount","page","componentWillUnmount","render","bookHeader","rightCallBack","type","tabsParameter","position","top","left","zIndex","backgroundColor","borderRadius","borderTop","borderBottom","borderLeft","borderRight"],"mappings":"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","sourcesContent":["import Header from '@/components/header';\nimport { category } from '@/store/action/book';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Audio from '../../components/Audio';\nimport Login from '../../components/login';\nimport Tabs from '../../components/tabs';\nimport { detail } from '../../services/book';\nimport './index.less';\nconst stateToProps = (state) => {\n\treturn {\n\t\ttabList: state.book.tabList,\n\t}\n}\nconst mapDispatchToProps = {\n\tcategory,\n};\n@connect(\n\tstateToProps,\n\tmapDispatchToProps\n)\nclass Book extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tshowHome: true,\n\t\t\tloginShow: false,\n\t\t\tmy: false,\n\t\t\tnovelItem: '',\n\t\t\t// collectSucceed: []\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tthis.props.category({\n\t\t\tpage: 1\n\t\t})\n\t}\n\tcomponentWillUnmount() {\n\t}\n\ttestRightCallBack = () => {\n\t\tif (this.state.loginShow && sessionStorage.getItem('user_id')) {\n\t\t\tthis.setState({\n\t\t\t\tloginShow: !this.state.loginShow\n\t\t\t})\n\t\t} else if (!this.state.loginShow && sessionStorage.getItem('user_id')) {\n\t\t\tthis.setState({\n\t\t\t\tmy: !this.state.my\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tloginShow: !this.state.loginShow,\n\t\t\t\tnovelItem: null\n\t\t\t})\n\t\t}\n\n\n\t}\n\tPopo = () => {\n\t\tconst arr = [\n\t\t\t{\n\t\t\t\tsrc: `user_favorite_btn.png`,\n\t\t\t\ttitle: '我的收藏',\n\t\t\t\tgoto: '/collect'\n\t\t\t}, {\n\t\t\t\tsrc: `user_feedback_btn.png`,\n\t\t\t\ttitle: '意见反馈',\n\t\t\t\tgoto: '/userfeedback'\n\t\t\t},\n\t\t\t{\n\t\t\t\tsrc: 'user_close_btn.png',\n\t\t\t\ttitle: '退出登录',\n\t\t\t\tgoto: '/'\n\t\t\t}\n\t\t]\n\t\treturn (\n\t\t\tarr.map(e => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={e.goto} onClick={() => {\n\t\t\t\t\t\tif (e.title === '退出登录') {\n\t\t\t\t\t\t\tsessionStorage.removeItem('user_id')\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tmy: false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.props.history.push(e.goto)\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\twidth: '70%',\n\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\tpadding: '.1rem'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<img src={require(`@/assets/images/${e.src}`)} alt=\"\" style={{\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p style={{\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: '0 0 .1rem 0'\n\t\t\t\t\t\t}}>{e.title}</p>\n\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})\n\t\t)\n\t}\n\tgetBooKDetail = async (bookId) => {\n\t\tif (!sessionStorage.getItem('user_id')) {\n\t\t\tthis.testRightCallBack()\n\t\t\treturn false\n\t\t}\n\t\tawait this.setState({\n\t\t\tnovelItem: null\n\t\t})\n\t\tawait detail({\n\t\t\tuser_id: sessionStorage.getItem('user_id'),\n\t\t\tnovel_id: bookId\n\t\t}).then(res => {\n\t\t\tconsole.log(res);\n\n\t\t\tconst serials = res.video\n\t\t\tconst novelPoster = res.poster\n\t\t\tconst novelTitle = res.title\n\t\t\tconst novelItem = {\n\t\t\t\tserials,\n\t\t\t\tnovelPoster,\n\t\t\t\tnovelTitle,\n\t\t\t\tplayer: serials[0]\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tnovelItem\n\t\t\t})\n\t\t})\n\n\t}\n\t// setCollect = (novel_id) => {\n\t// \tif (!sessionStorage.getItem('user_id')) {\n\t// \t\tthis.testRightCallBack()\n\t// \t\treturn false\n\t// \t}\n\t// \tconst collectSucceed=this.state.collectSucceed\n\t// \tcollect({\n\t// \t\tuser_id: sessionStorage.getItem('user_id'),\n\t// \t\tnovel_id: novel_id\n\t// \t}).then(res => {\n\t// \t\tif (res.code === 0) {\n\t// \t\t\tToast.info(res.suc)\n\t// \t\t\tif(res.suc==='取消成功'){\n\t// \t\t\t\tcollectSucceed.splice(collectSucceed.findIndex(item => item === novel_id), 1)\n\t// \t\t\t\tthis.setState({\n\t// \t\t\t\t\tcollectSucceed\n\t// \t\t\t\t})\n\t// \t\t\t\treturn false\n\t// \t\t\t}\n\t// \t\t\tcollectSucceed.push(novel_id)\n\t// \t\t\tthis.setState({\n\t// \t\t\t\tcollectSucceed: collectSucceed\n\t// \t\t\t})\n\t// \t\t} else {\n\t// \t\t\tToast.info(res.err)\n\t// \t\t}\n\n\t// \t})\n\t// \tconsole.log(123);\n\n\t// }\n\trender() {\n\t\tconst {\n\t\t\tstate: {\n\t\t\t\tloginShow,\n\t\t\t\tmy,\n\t\t\t\tnovelItem,\n\t\t\t\t// collectSucceed\n\t\t\t},\n\t\t\tprops: {\n\t\t\t\ttabList\n\t\t\t},\n\t\t\tgetBooKDetail,\n\t\t\ttestRightCallBack,\n\t\t\t// setCollect\n\t\t} = this\n\n\t\tconst bookHeader = {\n\t\t\t// leftCallBack: this.testCallBack,\n\t\t\trightCallBack: testRightCallBack,\n\t\t\ttype: 'book'\n\t\t}\n\t\tconst tabsParameter = {\n\t\t\ttabList: tabList,\n\t\t\tgetBooKDetail,\n\t\t\ttestRightCallBack\n\t\t\t// setCollect,\n\t\t\t// collectSucceed\n\t\t}\n\t\treturn (\n\t\t\t<div id='home_book'>\n\t\t\t\t<Header {...bookHeader} />\n\t\t\t\t<Tabs {...tabsParameter} />\n\t\t\t\t{loginShow && <Login rightCallBack={this.testRightCallBack} />}\n\t\t\t\t{\n\t\t\t\t\tmy && <div style={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\ttop: '1rem',\n\t\t\t\t\t\tleft: '.1rem',\n\t\t\t\t\t\tzIndex: '1000',\n\t\t\t\t\t\tpadding: '.1rem',\n\t\t\t\t\t\tbackgroundColor: '#fff',\n\t\t\t\t\t\tborderRadius: '.1rem'\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.Popo()\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: '-.2rem',\n\t\t\t\t\t\t\tleft: '20%',\n\t\t\t\t\t\t\tborderTop: ' .1rem solid transparent',\n\t\t\t\t\t\t\tborderBottom: '.1rem solid #fff',\n\t\t\t\t\t\t\tborderLeft: '.1rem solid transparent',\n\t\t\t\t\t\t\tborderRight: '.1rem solid transparent'\n\t\t\t\t\t\t}}></div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tnovelItem && (<>\n\t\t\t\t\t\t<Audio {...novelItem} />\n\t\t\t\t\t</>)\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default Book;\n"]},"metadata":{},"sourceType":"module"}