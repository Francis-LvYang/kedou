{"ast":null,"code":"import \"antd-mobile/lib/button/style/css\";\nimport _Button from \"antd-mobile/lib/button\";\nimport \"antd-mobile/lib/image-picker/style/css\";\nimport _ImagePicker from \"antd-mobile/lib/image-picker\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/gaomengzhou/Projects/kedou/src/pages/Feedback/components/imagePicker.js\";\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { userFeedBacks } from '../../../store/action/feedBack';\nimport '../index.less';\nimport './imgpicker.less'; // const data = [\n//   {\n//     url: 'https://zos.alipayobjects.com/rmsportal/PZUUCKTRIHWiZSY.jpeg',\n//     id: '2121',\n//   },\n//   {\n//     url: 'https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg',\n//     id: '2122',\n//   }\n// ];\n\nconst data = [];\nconst mapDispatchToProps = {\n  userFeedBacks\n};\nlet ImagePickerExample = (_dec = connect(({\n  videoDetailReducer\n}) => ({\n  videoDetailReducer\n}), mapDispatchToProps), _dec(_class = (_temp = class ImagePickerExample extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (files, type, index) => {\n      console.log(files, type, index);\n      this.setState({\n        files\n      });\n    };\n\n    this.feedBackBtn = () => {\n      const userFeedBack = this.props.userFeedBack ? this.props.userFeedBack : null;\n      const files = this.state.files;\n      const imgs = files.map((item, i) => item.url).join(',');\n\n      if (userFeedBack === null) {\n        return;\n      } else {\n        this.props.userFeedBacks({\n          user_id: sessionStorage.getItem('user_id'),\n          role: 'user',\n          message: userFeedBack,\n          images: imgs\n        });\n      }\n\n      this.props.form.setFieldsValue({\n        'userFeedBack': ''\n      });\n    };\n\n    this.state = {\n      files: data,\n      userFeedBack: ''\n    };\n  }\n\n  render() {\n    const files = this.state.files;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(_ImagePicker, {\n      className: \"imgpicker\",\n      files: files,\n      multiple: true,\n      onChange: this.onChange,\n      onImageClick: (index, fs) => console.log(index, fs),\n      selectable: files.length < 3,\n      accept: \"image/gif,image/jpeg,image/jpg,image/png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(_Button, {\n      onClick: this.feedBackBtn,\n      className: \"subMit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u63D0\\u4EA4\\u53CD\\u9988\"));\n  }\n\n}, _temp)) || _class);\nexport default ImagePickerExample;","map":{"version":3,"sources":["/Users/gaomengzhou/Projects/kedou/src/pages/Feedback/components/imagePicker.js"],"names":["React","connect","userFeedBacks","data","mapDispatchToProps","ImagePickerExample","videoDetailReducer","Component","constructor","props","onChange","files","type","index","console","log","setState","feedBackBtn","userFeedBack","state","imgs","map","item","i","url","join","user_id","sessionStorage","getItem","role","message","images","form","setFieldsValue","render","fs","length"],"mappings":";;;;;;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,OAAO,eAAP;AACA,OAAO,kBAAP,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,IAAI,GAAG,EAAb;AACA,MAAMC,kBAAkB,GAAG;AACzBF,EAAAA;AADyB,CAA3B;IAOMG,kB,WAHLJ,OAAO,CAAC,CAAC;AAAEK,EAAAA;AAAF,CAAD,MAA6B;AACpCA,EAAAA;AADoC,CAA7B,CAAD,EAEJF,kBAFI,C,yBAAR,MAGMC,kBAHN,SAGiCL,KAAK,CAACO,SAHvC,CAGiD;AAC/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,QATmB,GASR,CAACC,KAAD,EAAQC,IAAR,EAAcC,KAAd,KAAwB;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAAmBC,IAAnB,EAAyBC,KAAzB;AACA,WAAKG,QAAL,CAAc;AACZL,QAAAA;AADY,OAAd;AAGD,KAdkB;;AAAA,SAenBM,WAfmB,GAeL,MAAM;AAClB,YAAMC,YAAY,GAAG,KAAKT,KAAL,CAAWS,YAAX,GAA0B,KAAKT,KAAL,CAAWS,YAArC,GAAoD,IAAzE;AADkB,YAEVP,KAFU,GAEA,KAAKQ,KAFL,CAEVR,KAFU;AAGlB,YAAMS,IAAI,GAAGT,KAAK,CAACU,GAAN,CAAU,CAACC,IAAD,EAAOC,CAAP,KAAaD,IAAI,CAACE,GAA5B,EAAiCC,IAAjC,CAAsC,GAAtC,CAAb;;AACA,UAAIP,YAAY,KAAK,IAArB,EAA2B;AACzB;AACD,OAFD,MAEO;AACL,aAAKT,KAAL,CAAWP,aAAX,CAAyB;AAAEwB,UAAAA,OAAO,EAAEC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAX;AAA8CC,UAAAA,IAAI,EAAE,MAApD;AAA4DC,UAAAA,OAAO,EAAEZ,YAArE;AAAmFa,UAAAA,MAAM,EAAEX;AAA3F,SAAzB;AACD;;AACD,WAAKX,KAAL,CAAWuB,IAAX,CAAgBC,cAAhB,CAA+B;AAAE,wBAAgB;AAAlB,OAA/B;AACD,KAzBkB;;AAEjB,SAAKd,KAAL,GAAa;AACXR,MAAAA,KAAK,EAAER,IADI;AAEXe,MAAAA,YAAY,EAAE;AAFH,KAAb;AAID;;AAqBDgB,EAAAA,MAAM,GAAG;AAAA,UACCvB,KADD,GACW,KAAKQ,KADhB,CACCR,KADD;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAEA,KAFT;AAGE,MAAA,QAAQ,MAHV;AAIE,MAAA,QAAQ,EAAE,KAAKD,QAJjB;AAKE,MAAA,YAAY,EAAE,CAACG,KAAD,EAAQsB,EAAR,KAAerB,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmBsB,EAAnB,CAL/B;AAME,MAAA,UAAU,EAAExB,KAAK,CAACyB,MAAN,GAAe,CAN7B;AAOE,MAAA,MAAM,EAAC,0CAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE;AACE,MAAA,OAAO,EAAE,KAAKnB,WADhB;AAEE,MAAA,SAAS,EAAC,QAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAVF,CADF;AAiBD;;AA/C8C,C;AAkDjD,eAAeZ,kBAAf","sourcesContent":["import { Button, ImagePicker } from 'antd-mobile';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { userFeedBacks } from '../../../store/action/feedBack';\nimport '../index.less';\nimport './imgpicker.less';\n\n// const data = [\n//   {\n//     url: 'https://zos.alipayobjects.com/rmsportal/PZUUCKTRIHWiZSY.jpeg',\n//     id: '2121',\n//   },\n//   {\n//     url: 'https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg',\n//     id: '2122',\n//   }\n// ];\nconst data = []\nconst mapDispatchToProps = {\n  userFeedBacks\n};\n\n@connect(({ videoDetailReducer }) => ({\n  videoDetailReducer\n}), mapDispatchToProps)\nclass ImagePickerExample extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: data,\n      userFeedBack: '',\n    }\n  }\n\n\n  onChange = (files, type, index) => {\n    console.log(files, type, index);\n    this.setState({\n      files,\n    });\n  }\n  feedBackBtn = () => {\n    const userFeedBack = this.props.userFeedBack ? this.props.userFeedBack : null\n    const { files } = this.state;\n    const imgs = files.map((item, i) => item.url).join(',')\n    if (userFeedBack === null) {\n      return\n    } else {\n      this.props.userFeedBacks({ user_id: sessionStorage.getItem('user_id'), role: 'user', message: userFeedBack, images: imgs })\n    }\n    this.props.form.setFieldsValue({ 'userFeedBack': '' })\n  }\n\n  render() {\n    const { files } = this.state;\n    return (\n      <div>\n        <ImagePicker\n          className='imgpicker'\n          files={files}\n          multiple\n          onChange={this.onChange}\n          onImageClick={(index, fs) => console.log(index, fs)}\n          selectable={files.length < 3}\n          accept=\"image/gif,image/jpeg,image/jpg,image/png\"\n        />\n        <Button\n          onClick={this.feedBackBtn}\n          className='subMit'\n        >提交反馈</Button>\n      </div>\n    );\n  }\n}\n\nexport default ImagePickerExample;\n"]},"metadata":{},"sourceType":"module"}